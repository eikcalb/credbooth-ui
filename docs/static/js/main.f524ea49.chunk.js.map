{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["API_ENDPOINT","App","useState","localStorage","getItem","token","setToken","step","setStep","selectedCategory","setSelectedCategory","selectedProvider","setSelectedProvider","selectedProduct","setSelectedProduct","requestRef","setRequestRef","cardToken","setCardToken","providers","setProviders","products","setProducts","loading","setLoading","phone","customerid","amount","form","setForm","timer","useRef","fetchProviders","category","a","axios","get","headers","Authorization","status","response","data","Error","message","join","alert","console","error","fetchProducts","providerID","initiateTransaction","post","confirmTransaction","requestID","cardID","makePayment","type","transaction","cardid","endpoint","transactionreference","servicename","className","autoFocus","value","placeholder","onChange","e","target","setItem","clearTimeout","current","setTimeout","max","then","finally","length","parseInt","map","p","id","name","query","product","find","onSubmit","preventDefault","stopPropagation","item","log","productID","required","disabled","reference","window","confirm","location","reload","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f524ea49.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\n\ntype IServiceCategory = \"data\" | \"airtime\" | \"electricity-bill\" | \"tv-subscription\"\n\ninterface ITransactionInitiate {\n\ttype: string\n\tproductID: number\n\tamount: number\n\tcustomerid: string\n\tphone: string\n}\n\ninterface IResponse {\n\tstatus: 1 | 2\n\tmessage: string | string[]\n\terror: string\n\tdata: any\n}\n\nconst API_ENDPOINT = \"https://credbillpayment-j5ncn.ondigitalocean.app/\"\n\nfunction App() {\n\tconst [token, setToken] = useState(localStorage.getItem(\"bearerToken\") || \"\")\n\tconst [step, setStep] = useState<\"category\" | \"product\" | \"purchase\" | \"confirm\">(\"category\")\n\tconst [selectedCategory, setSelectedCategory] = useState<IServiceCategory | undefined>()\n\tconst [selectedProvider, setSelectedProvider] = useState()\n\tconst [selectedProduct, setSelectedProduct] = useState()\n\tconst [requestRef, setRequestRef] = useState()\n\tconst [cardToken, setCardToken] = useState(\"\")\n\n\tconst [providers, setProviders] = useState<any[]>([])\n\tconst [products, setProducts] = useState<any[]>([])\n\tconst [loading, setLoading] = useState(false)\n\tconst [form, setForm] = useState({ phone: '', customerid: '', amount: '' })\n\n\tconst timer = useRef<undefined | number>()\n\n\tconst fetchProviders = async (category: IServiceCategory) => {\n\t\ttry {\n\t\t\tconst { status, data: response } = await axios.get<IResponse>(`${API_ENDPOINT}billpayment/categories/${category}`, {\n\t\t\t\theaders: { Authorization: `Bearer ${token}` },\n\t\t\t})\n\n\t\t\tif (response.status === 2) {\n\t\t\t\tthrow new Error(response.message && typeof response.message !== 'string' ? response.message.join('. ') : response?.message)\n\t\t\t}\n\n\t\t\treturn response.data\n\t\t} catch (e) {\n\t\t\talert(\"\\u26A0 \" + e.message || \"Failed to get providers\")\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\tconst fetchProducts = async (providerID: number) => {\n\t\ttry {\n\t\t\tconst { status, data: response } = await axios.get<IResponse>(`${API_ENDPOINT}billpayment/providers/${providerID}/products`, {\n\t\t\t\theaders: { Authorization: `Bearer ${token}` },\n\t\t\t})\n\n\t\t\tif (response.status === 2) {\n\t\t\t\tthrow new Error(response.message && typeof response.message !== 'string' ? response.message.join('. ') : response?.message)\n\t\t\t}\n\n\t\t\treturn response.data\n\t\t} catch (e) {\n\t\t\talert(\"\\u26A0 \" + e.message || \"Failed to get products\")\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\tconst initiateTransaction = async (data: ITransactionInitiate) => {\n\t\ttry {\n\t\t\tconst { status, data: response } = await axios.post<IResponse>(`${API_ENDPOINT}billpayment/validate`, data,\n\t\t\t\t{\n\t\t\t\t\theaders: { Authorization: `Bearer ${token}` }\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tif (response.status === 2) {\n\t\t\t\tthrow new Error(response.message && typeof response.message !== 'string' ? response.message.join('. ') : response?.message)\n\t\t\t}\n\n\t\t\treturn response.data\n\t\t} catch (e) {\n\t\t\talert(\"\\u26A0 \" + e.message || \"Failed to initiate transaction\")\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\tconst confirmTransaction = async (requestID: number, cardID: number): Promise<{ id: number, reference: string }> => {\n\t\ttry {\n\t\t\tif (!requestRef || !cardID) {\n\t\t\t\tthrow new Error(\"Required info was omitted\")\n\t\t\t}\n\t\t\tconst { status, data: response } = await axios.post<IResponse>(`${API_ENDPOINT}billpayment/confirm`, {\n\t\t\t\trequestID,\n\t\t\t\tcardID\n\t\t\t}, {\n\t\t\t\theaders: { Authorization: `Bearer ${token}` },\n\t\t\t})\n\n\t\t\tif (response.status === 2) {\n\t\t\t\tthrow new Error(response.message && typeof response.message !== 'string' ? response.message.join('. ') : response?.message)\n\t\t\t}\n\t\t\tif (!response.data) {\n\t\t\t\tthrow new Error(\"Failed to process request\")\n\t\t\t}\n\t\t\treturn response.data\n\t\t} catch (e) {\n\t\t\talert(\"\\u26A0 \" + e.message || \"Failed to initiate transaction\")\n\t\t\tconsole.error(e)\n\t\t\tthrow e\n\t\t}\n\t}\n\n\tconst makePayment = async (type: \"token\" | \"card\" | \"wallet\", transaction: string, cardid: number): Promise<{ id: number, reference: string } | undefined> => {\n\t\ttry {\n\t\t\tif (!transaction || !cardid) {\n\t\t\t\tthrow new Error(\"Required info was omitted\")\n\t\t\t}\n\t\t\tlet endpoint: string\n\t\t\tswitch (type) {\n\t\t\t\tcase \"card\":\n\t\t\t\t\tendpoint = 'payment/paywithcard'\n\t\t\t\t\tbreak\n\t\t\t\tcase \"token\":\n\t\t\t\t\tendpoint = 'payment/paywithtoken'\n\t\t\t\t\tbreak\n\t\t\t\tcase \"wallet\":\n\t\t\t\t\tendpoint = 'payment/paywithwallet'\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst { data: response } = await axios.post<IResponse>(`${API_ENDPOINT}${endpoint}`, {\n\t\t\t\ttransactionreference: transaction,\n\t\t\t\tservicename: \"BILL_PAYMENT\",\n\t\t\t\tcardid\n\t\t\t}, {\n\t\t\t\theaders: { Authorization: `Bearer ${token}` },\n\t\t\t})\n\n\t\t\tif (response.status === 2) {\n\t\t\t\tthrow new Error(response.message && typeof response.message !== 'string' ? response.message.join('. ') : response?.message)\n\t\t\t}\n\t\t\talert(\"\\u2705 \" + \"Purchase successful\")\n\t\t\treturn response.data\n\t\t} catch (e) {\n\t\t\talert(\"\\u26A0 \" + e.message || \"Failed to initiate transaction\")\n\t\t\tconsole.error(e)\n\t\t\tthrow e\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"container is-vcentered pt-6\">\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-content'>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t<label className=\"label is-uppercase is-size-5\">Bearer Token</label>\n\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t<input autoFocus className=\"input\" type=\"password\" value={token} placeholder=\"Enter Bearer token\" onChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetToken(e.target.value)\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"bearerToken\", e.target.value)\n\t\t\t\t\t\t\t\t\tclearTimeout(timer.current)\n\t\t\t\t\t\t\t\t\ttimer.current = setTimeout(() => alert(\"\\u2705 Auth Token Updated!\"), 800) as any\n\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{loading ?\n\t\t\t\t\t\t\t<progress className=\"progress is-small is-danger\" max=\"100\"></progress>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{step === 'category' && (\n\t\t\t\t\t\t\t\t\t<div className='select'>\n\t\t\t\t\t\t\t\t\t\t<select value={selectedCategory} onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tif (!e.target.value) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedCategory(e.target.value as IServiceCategory)\n\n\t\t\t\t\t\t\t\t\t\t\tfetchProviders(e.target.value as IServiceCategory)\n\t\t\t\t\t\t\t\t\t\t\t\t.then((providers) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetProviders(providers)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStep('product')\n\t\t\t\t\t\t\t\t\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t\t\t\t<option>Select Service</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value='airtime'>Airtime</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value='data'>Data</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value='tv-subscription'>TV Subscription</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value='electricity-bill'>Electricity Bill</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(step === 'product' && providers?.length > 0) && (\n\t\t\t\t\t\t\t\t\t<div className='select'>\n\t\t\t\t\t\t\t\t\t\t<select value={selectedProvider} onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tif (!e.target.value) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedProvider(e.target.value as any)\n\n\t\t\t\t\t\t\t\t\t\t\tfetchProducts(parseInt(e.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t.then((products) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducts(products)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStep('purchase')\n\t\t\t\t\t\t\t\t\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t\t\t\t<option>Select Provider</option>\n\t\t\t\t\t\t\t\t\t\t\t{providers.map((p) => (<option value={p.id}>{p.name}</option>))}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(step === 'purchase' && products?.length > 0) && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{!selectedProduct &&\n\t\t\t\t\t\t\t\t\t\t\t<div className='select'>\n\t\t\t\t\t\t\t\t\t\t\t\t<select value={selectedProduct} onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!e.target.value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst query = parseInt(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst product = products.find(p => p.id === query)\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!product) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetForm({ ...form, amount: `${product.amount/100}` })\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedProduct(product)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Select Product</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{products.map((p) => (<option value={p.id} key={p.id}>{p.name}</option>))}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{(selectedCategory === 'airtime' && selectedProduct) && (\n\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\t\t\tconst provider = providers.find((item) => item.id === parseInt(selectedProvider as any))\n\t\t\t\t\t\t\t\t\t\t\t\tif (!provider) {\n\t\t\t\t\t\t\t\t\t\t\t\t\talert(\"\\u26A0 Failed to process request\")\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Cannot find provider\", providers, selectedProvider, providers.find((item) => item.id === selectedProvider))\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tinitiateTransaction({ ...form, phone: `+234${form.phone}`, amount: parseInt(form.amount) * 100, type: selectedCategory, productID: (selectedProduct as any).id })\n\t\t\t\t\t\t\t\t\t\t\t\t\t.then((id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRequestRef(id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStep('confirm')\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t.finally(() => setLoading(false))\n\t\t\t\t\t\t\t\t\t\t\t}} className='section'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"tel\" value={form.customerid} onChange={(e) => setForm({ ...form, customerid: e.target.value })} placeholder=\"Phone number to recharge\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field has-addons\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"button is-static\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&#x20A6;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control is-expanded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"number\" value={form.amount} onChange={(e) => setForm({ ...form, amount: e.target.value })} placeholder=\"Amount to recharge\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field has-addons\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"button is-static\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+234\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control is-expanded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"tel\" value={form.phone} onChange={(e) => setForm({ ...form, phone: e.target.value })} placeholder=\"Contact phone number\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='control'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='button is-primary'>Submit</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{(selectedCategory !== 'airtime' && selectedProduct) && (\n\n\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\t\t\tinitiateTransaction({ ...form, phone: `+234${form.phone}`, amount: parseInt(form.amount) * 100, type: selectedCategory as any, productID: (selectedProduct as any).id })\n\t\t\t\t\t\t\t\t\t\t\t\t\t.then((id) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRequestRef(id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStep('confirm')\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t.finally(() => setLoading(false))\n\t\t\t\t\t\t\t\t\t\t\t}} className='section'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"text\" value={form.customerid} onChange={(e) => setForm({ ...form, customerid: e.target.value })} placeholder=\"Enter customer details\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field has-addons\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"button is-static\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&#x20A6;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control is-expanded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"number\" value={form.amount} disabled={parseInt((selectedProduct as any)?.amount || \"0\") > 0} onChange={(e) => setForm({ ...form, amount: e.target.value })} placeholder=\"Amount to pay\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field has-addons\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"button is-static\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+234\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"control is-expanded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"tel\" value={form.phone} onChange={(e) => setForm({ ...form, phone: e.target.value })} placeholder=\"Contact phone number\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='control'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='button is-primary'>Submit</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(step === 'confirm' && requestRef) && (\n\t\t\t\t\t\t\t\t\t<form onSubmit={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\tif (!cardToken) {\n\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Token must be provided\")\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\tconfirmTransaction(requestRef as any, cardToken as any)\n\t\t\t\t\t\t\t\t\t\t\t.then(({ reference }) => makePayment(\"token\", reference, parseInt(cardToken)))\n\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst restart = window.confirm(\"Process another transaction?\");\n\t\t\t\t\t\t\t\t\t\t\t\tif (restart) {\n\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t.catch(e => console.error(e))\n\t\t\t\t\t\t\t\t\t\t\t.finally(() => setLoading(false))\n\t\t\t\t\t\t\t\t\t}} className='section has-text-centered'>\n\t\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t\t<label>Enter Card Token For Payment</label>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"control is-expanded\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input required className=\"input\" type=\"number\" value={`${cardToken}`} onChange={(e) => setCardToken(parseInt(e.target.value) as any)} placeholder=\"Enter Card Token\" />\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className='control is-expanded'>\n\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='button is-primary'>Pay</button>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}